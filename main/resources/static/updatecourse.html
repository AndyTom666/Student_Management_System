<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	body {
			margin:0px auto;
		}
		#fixedLayer1 {
			position:fixed;
			left: 20px;
			top: 400;
			width:150;
			line-height:4;
			background-color: rgba(41, 198, 209, 0.705); 
			border:1px solid rgba(56, 57, 82, 0.705);
		}
		#fixedLayer2 {
			position:fixed; 
			right:20px;
			top: 200;
			width:150;
			background-color: rgba(41, 198, 209, 0.705);
			line-height:4;
			border:1px solid rgba(56, 57, 82, 0.705);
		}
	button{
		height: 36px;
		width: 100px;
		color:rgba(73, 42, 30, 0.836);
		background-color:#577ac5;
		border-color: rgba(117, 85, 15, 0.822);
	}
	</style>
<script type="text/javascript">
    function getcourseid()
    {
        courseid=location.search.substring(1);
        alert("欢迎你："+courseid);
        if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
           xmlhttp = new XMLHttpRequest();
       } else {// code for IE6, IE5 
           xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
       }

       xmlhttp.open("post", "getupdatecourse.do", true);
       xmlhttp.onreadystatechange = function() {
           if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
               value=xmlhttp.responseText;
                 json=eval("("+value+")");
                 
                 document.getElementById("courseid").value=json.courseid;
                 document.getElementById("coursename").placeholder=json.coursename;
                 document.getElementById("professionid").placeholder=json.professionid;
                 document.getElementById("ratio").placeholder=json.ratio;
                 document.getElementById("credit").placeholder=json.credit;
           }

       }
       xmlhttp.setRequestHeader("Content-type",
         "application/x-www-form-urlencoded");
       xmlhttp.send("courseid="+courseid);
    }
    function courseupdate()
   {
       
    courseid=document.getElementById("courseid").value;
    coursename=document.getElementById("coursename").value;
    professionid=document.getElementById("professionid").value;
    ratio=document.getElementById("ratio").value;
    credit=document.getElementById("credit").value;
        if (window.XMLHttpRequest) 
        {// code for IE7+, Firefox, Chrome, Opera, Safari
           xmlhttp=new XMLHttpRequest(); 
        } 
      else {// code for IE6, IE5 
         xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"); 
      } 
        
        xmlhttp.open("post", "courseupdate.do", true);
        xmlhttp.onreadystatechange=function()
        {
            //alert(xmlhttp.responseText);
            if (xmlhttp.readyState==4 && xmlhttp.status==200)
                {
                   if(xmlhttp.responseText=="no")
                   {
                   alert("更新课程失败！")
                       }else if(xmlhttp.responseText=="yes")
                           {
                       alert("更新课程成功");
                     window.location.href="coursemanager.html";
                           }
                   
                   
                }
            
        }
      xmlhttp.setRequestHeader("Content-type",
     "application/x-www-form-urlencoded");
        xmlhttp.send("courseid="+courseid+"&coursename="+coursename+"&professionid="+professionid+"&ratio="+ratio+"&credit="+credit);
   }
 </script>
</head>
<body background="image/14.jpg" 
   style=" background-repeat:no-repeat;background-size:110% 120%;attachment: fixed; background-size: cover;" onload="getcourseid()" >
   <div id="fixedLayer1" align="center">
 
		<a href="register.html">学生注册</a><br>

	   <a href="teacherregister.html">老师注册</a><br>

		<a href="courseregister.html">课程录入</a><br>
	 
		<a href="stumarkinforegister.html">成绩录入</a><br>
		<a href="studentmanager.html">学生管理</a><br>

	   <a href="studentmarkinfomanager.html">成绩管理</a><br>

		<a href="teachermanager.html">老师管理</a><br>
	 
		<a href="coursemanager.html">课程管理</a><br>

	 <a href="javascript:scroll(0,0)">Top</a> 

   </div>
   <div id="fixedLayer2" align="center">

	<a href="register.html">学生注册</a><br>

   <a href="teacherregister.html">老师注册</a><br>

	<a href="courseregister.html">课程录入</a><br>
 
	<a href="stumarkinforegister.html">成绩录入</a><br>
	<a href="studentmanager.html">学生管理</a><br>

   <a href="studentmarkinfomanager.html">成绩管理</a><br>

	<a href="teachermanager.html">老师管理</a><br>
 
	<a href="coursemanager.html">课程管理</a><br>

 <a href="javascript:scroll(0,0)">Top</a> 

</div>
<br><br><br><br><br><br>
      <h1 align="center">课程更新<br>
       <div id="displaybox" ></div>
       <br>
         课程编号:<input type="text" id="courseid"  required="required"   value="" readonly/><br/>
        课程名:<input type="text" id="coursename" required="required" placeholder=""/><br/>
         专业号：<input type="text" id="professionid" required="required"  onKeyUp="CharMode()" onblur="CharMode()"placeholder=""><br/>
         平时分比例：<input  type="text" required="required" id="ratio" placeholder=""><br>
        学分:<input type="text" id="credit" required="required" placeholder="">
        <br>
        <button onclick="courseupdate()" > 课程更新</button>
        
         <br>
         
       
       </form>
       <a href="login.html">返回首页</a>

</body>
</html>