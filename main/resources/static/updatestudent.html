<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	body {
			margin:0px auto;
		}
		#fixedLayer1 {
			position:fixed;
			left: 20px;
			top: 400;
			width:150;
			line-height:4;
			background-color: rgba(41, 198, 209, 0.705); 
			border:1px solid rgba(56, 57, 82, 0.705);
		}
		#fixedLayer2 {
			position:fixed; 
			right:20px;
			top: 200;
			width:150;
			background-color: rgba(41, 198, 209, 0.705);
			line-height:4;
			border:1px solid rgba(56, 57, 82, 0.705);
		}
	button{
		height: 36px;
		width: 100px;
		color:rgba(73, 42, 30, 0.836);
		background-color:#577ac5;
		border-color: rgba(117, 85, 15, 0.822);
	}
	</style>
<script type="text/javascript">
     function getstuid()
     {
    	 stuid=location.search.substring(1);
    	 alert("欢迎你："+stuid);
		 if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
			xmlhttp = new XMLHttpRequest();
		} else {// code for IE6, IE5 
			xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
		}

		xmlhttp.open("post", "getupdatestudent.do", true);
		xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
				value=xmlhttp.responseText;
			      json=eval("("+value+")");
			      
				  document.getElementById("stuid").value=json.stuid;
			      document.getElementById("stuname").value=json.stuname;
				  document.getElementById("pwd").value=json.pwd;
				  document.getElementById("professionid").value=json.professionid;
				  document.getElementById("date").value=json.date;
				  document.getElementById("sex").value=json.sex;
				  document.getElementById("idnum").value=json.idnum;
				  document.getElementById("totalscore").value=json.totalscore;
				  document.getElementById("photo").value=json.photo;
				  document.getElementById("note").value=json.note;
			}

		}
		xmlhttp.setRequestHeader("Content-type",
	  	"application/x-www-form-urlencoded");
		xmlhttp.send("stuid="+stuid);
     }
	 function studentupdate()
    {
		
    	stuid=document.getElementById("stuid").value;
    	stuname=document.getElementById("stuname").value;
    	pwd=document.getElementById("pwd").value;
    	professionid=document.getElementById("professionid").value;
    	date=document.getElementById("date").value;
    	sex=document.getElementById("sex").value;
    	idnum=document.getElementById("idnum").value;
    	totalscore=document.getElementById("totalscore").value;
    	photo=document.getElementById("photo").value;
    	note=document.getElementById("note").value;
    	
  	   if (window.XMLHttpRequest) 
  	   {// code for IE7+, Firefox, Chrome, Opera, Safari
  	      xmlhttp=new XMLHttpRequest(); 
  	   } 
  	 else {// code for IE6, IE5 
  	    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"); 
  	 } 
  	   
  	   xmlhttp.open("post", "studentupdate.do", true);
  	   xmlhttp.onreadystatechange=function()
  	   {
  		   //alert(xmlhttp.responseText);
  		   if (xmlhttp.readyState==4 && xmlhttp.status==200)
  			   {
  			      if(xmlhttp.responseText=="no")
  			      {
  			      alert("更新学生失败！")
  			    	  }else if(xmlhttp.responseText=="yes")
  			    		  {
  			    	  alert("更新学生成功");
  			    	window.location.href="studentmanager.html";
  			    		  }
  			      
  			      
  			   }
  		   
  	   }
  	 xmlhttp.setRequestHeader("Content-type",
  	"application/x-www-form-urlencoded");
  	   xmlhttp.send("stuid="+stuid+"&stuname="+stuname+"&pwd="+pwd+"&professionid="+professionid+"&date="+date
  			   +"&sex="+sex+"&idnum="+idnum+"&totalscore="+totalscore+"&photo="+photo+"&note="+note);
    }
  </script>
</head>
<body background="image/11.jpg" 
	style=" background-repeat:no-repeat;background-size:110% 120%;attachment: fixed; background-size: cover;" onload="getstuid()" >
	<div id="fixedLayer1" align="center">
 
		<a href="register.html">学生注册</a><br>

	   <a href="teacherregister.html">老师注册</a><br>

		<a href="courseregister.html">课程录入</a><br>
	 
		<a href="stumarkinforegister.html">成绩录入</a><br>
		<a href="studentmanager.html">学生管理</a><br>

	   <a href="studentmarkinfomanager.html">成绩管理</a><br>

		<a href="teachermanager.html">老师管理</a><br>
	 
		<a href="coursemanager.html">课程管理</a><br>

	 <a href="javascript:scroll(0,0)">Top</a> 

   </div>
   <div id="fixedLayer2" align="center">

	<a href="register.html">学生注册</a><br>

   <a href="teacherregister.html">老师注册</a><br>

	<a href="courseregister.html">课程录入</a><br>
 
	<a href="stumarkinforegister.html">成绩录入</a><br>
	<a href="studentmanager.html">学生管理</a><br>

   <a href="studentmarkinfomanager.html">成绩管理</a><br>

	<a href="teachermanager.html">老师管理</a><br>
 
	<a href="coursemanager.html">课程管理</a><br>

 <a href="javascript:scroll(0,0)">Top</a> 

</div>
<br><br><br><br><br><br>
	   <h1 align="center">学生注册<br>
		<div id="displaybox" ></div>
		<br>
		  学号:<input type="text" id="stuid"  required="required"  onkeyup="gettext1()" value="" readonly/><br/>
		 名字:<input type="text" id="stuname" required="required" value=""/><br/>
		  密码：<input type="text" id="pwd" required="required"  onKeyUp="CharMode()" onblur="CharMode()"value=""><br/>
		  专业号：<input  type="text"required="required" id="professionid" value=""><br>
		 入学日期:<input type="text" id="date" required="required" value="">
		 
		 <br>
		  性别:<input type="text" name="sex" id="sex" value=""><br>
		  身份证号:<input type="text" id="idnum" required="required" value=""><br>
		  总分:<input type="text" id="totalscore" required="required" value=""><br>
		  照片:<input type="text" id="photo" required="required"  value=""><br>
		 说明:<input type="text" id="note"  value=""><br>
		 <button onclick="studentupdate()" > 学生更新</button>
		 
		  <br>
		  
		
		</form>
		<a href="login.html">返回首页</a>

</body>

</body>
</html>